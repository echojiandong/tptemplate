<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<link rel="stylesheet" href="__LAY__css/layui.css" media="all" />
	<link rel="stylesheet" href="__LAY__css/admin.css" media="all" />
</head>
<body>
  <div class="layui-form" lay-filter="layuiadmin-form-admin" id="layuiadmin-form-admin" style="padding: 20px 30px 0 0;">
    <div class="layui-form-item">
      <label class="layui-form-label">职位名称</label>
      <div class="layui-input-block">
        <input type="text" name="name" lay-verify="required" placeholder="请输入职位名称" autocomplete="off" class="layui-input">
      </div>
    </div>
     <div class="layui-form-item">
      <label class="layui-form-label">父节点</label>
      <div class="layui-input-block">
          <input type="text" id="tree" name='pid' lay-filter="tree" class="layui-input">
      </div>
    </div>
    <div class="layui-form-item layui-hide">
      <input type="button" lay-submit lay-filter="LAY-user-back-submit" id="LAY-user-back-submit" value="确认">
    </div>
  </div>
</body>
</html>
<script type="text/javascript" src="__LAY__layui.js"></script>
<script type="text/javascript">
  // 树扩展
	layui.config({
		base: '/static/manage/layui/js/',
	})
	layui.use(['treeSelect','layer','code','form'],function(){
		var $ = layui.$
			,form = layui.form
			,layer = layui.layer
      ,treeSelect = layui.treeSelect;


      treeSelect.render({
              // 选择器
              elem: '#tree',
              // 数据
              data: '/manage/organization/selectOrganizationalList',
              // 异步加载方式：get/post，默认get
              type: 'get',
              // 占位符
              placeholder: '如不选中默认为最大父节点',
              // 是否开启搜索功能：true/false，默认false
              search: false,
              // 点击回调
              click: function(d){
                  $('#tree').val(d.current.id);
                  console.log(d.current);
              },
              // 加载完成后的回调函数
              success: function (d) {
                  // console.log(d);
  //                选中节点，根据id筛选
  //                treeSelect.checkNode('tree', 3);

  //                获取zTree对象，可以调用zTree方法
  //                var treeObj = treeSelect.zTree('tree');
  //                console.log(treeObj);

  //                刷新树结构
  //                treeSelect.refresh();
              }
          });

    })
</script>
